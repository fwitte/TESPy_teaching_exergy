

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>ORC Combined Heat and Power &#8212; Teaching Exergy using TESPy</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'processes/orc-combined-heat-and-power';</script>
    <link rel="shortcut icon" href="../_static/logo_tespy_small.svg"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="List of Abbreveations" href="../abbreveations-symbols.html" />
    <link rel="prev" title="Introduction" href="intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo_tespy_mid.svg" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/logo_tespy_mid.svg" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../getting-started/setup-python.html">Setup your Python environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/intro-packages.html">Introduction to used libraries</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../intro/scope-and-preconditions.html">Goals and Scope of the Course</a></li>

<li class="toctree-l1"><a class="reference internal" href="../intro/exergy-analysis.html">Fundamentals of Exergy Analysis</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Single Components</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../single-components/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../single-components/adiabatic-pipe-flow.html">Adiabatic Pipe Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../single-components/heat-exchanger.html">Heat Exchanger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../single-components/compressed-air.html">Compressed Air Production</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Thermodynamic Cycles</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../cycles/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cycles/open-gas-turbine.html">Gas Turbine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cycles/clausius-rankine.html">Clausius Rankine Cycle</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cycles/heat-pump.html">Heat Pump</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Complex Processes</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">ORC Combined Heat and Power</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../abbreveations-symbols.html">List of Abbreveations</a></li>

<li class="toctree-l1"><a class="reference internal" href="../zliterature.html">Literature References</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/fwitte/TESPy_teaching_exergy" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/fwitte/TESPy_teaching_exergy/issues/new?title=Issue%20on%20page%20%2Fprocesses/orc-combined-heat-and-power.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/processes/orc-combined-heat-and-power.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>ORC Combined Heat and Power</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-1">Exercise 1</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#proposed-solution-1-1">Proposed solution 1.1</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#proposed-solution-1">Proposed solution 1</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Proposed solution 1.1</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#geothermal-combined-heat-and-power-plant">Geothermal combined heat and power plant</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#proposed-solution-2-1">Proposed solution 2.1</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#geothermal-power-plant-with-complete-condensation-operation">Geothermal power plant with complete condensation operation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-2">Exercise 2</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-3">Exercise 3</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lessons-learned">Lessons Learned</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="orc-combined-heat-and-power">
<span id="orc-chp-label"></span><h1>ORC Combined Heat and Power<a class="headerlink" href="#orc-combined-heat-and-power" title="Permalink to this heading">#</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">#</a></h2>
<p>Subject of the following example of a more complex thermodynamic process will be a combined geothermal heat and power plant. As even deep geothermal boreholes can not supply temperatures high enough to drice conventional powerplant processes, such as the aforementioned and thoroughly analyzed Clausius Rankine Cycle, adjustments are necessary. Organic process fluids whose vaporization temperature is lower than that of water allow the execution of a Rankine cycle at these lower heat source temperatures, resulting in the so called <em>Organic Rankine Cycle</em>.</p>
<p>The main focus of this example is the comparison of a geothermal plant with cogeneration of heat and power with one that only supplies electricity. This comparision is achieved through the analysis of energy, as well as exergy flows, so as to magnify the shortcomings of a solely energy-based approach. Therefore, the key parameters of an evaluation of a chp process are defined in Eq. <a class="reference internal" href="#equation-orc-chp-energy-efficiency">(41)</a> and Eq. <a class="reference internal" href="#equation-orc-chp-exergy-efficiency">(42)</a>, with the respective equations of a pure powerplant process missing the district heating parts.</p>
<div class="math notranslate nohighlight" id="equation-orc-chp-energy-efficiency">
<span class="eqno">(41)<a class="headerlink" href="#equation-orc-chp-energy-efficiency" title="Permalink to this equation">#</a></span>\[    \eta_{CHP} = \frac{\dot{W}_{net} + \dot{Q}_{DH}}{\dot{H}_1 - \dot{H}_2}\]</div>
<div class="math notranslate nohighlight" id="equation-orc-chp-exergy-efficiency">
<span class="eqno">(42)<a class="headerlink" href="#equation-orc-chp-exergy-efficiency" title="Permalink to this equation">#</a></span>\[    \epsilon_{CHP} = \frac{\dot{W}_{net} + (\dot{E}_{ff} - \dot{E}_{bf})}{\dot{E}_1 - \dot{E}_2}\]</div>
<p>For the cogeneration of heat and power, the ORC will be employed to solely supply power. The gaseous mass fraction of the geothermal source can be fed directly through a steam turbine and condensated to supply the district heating network with heat. The process diagram of the described CHP plant can be found in Figure <a class="reference internal" href="#orc-chp-flowsheet"><span class="std std-numref">Fig. 20</span></a>. The heat outflow to close the Organic Rankine Cycle is realized through cooling with ambient air. Finally, the two streams from the geothermal source are combined again to be fed back into the geothermal sink.</p>
<figure class="align-default" id="orc-chp-flowsheet">
<img alt="../_images/geothermal_orc_chp.svg" src="../_images/geothermal_orc_chp.svg" /><figcaption>
<p><span class="caption-number">Fig. 20 </span><span class="caption-text">Flow sheet of the geothermal plant with cogeneration of heat and power.</span><a class="headerlink" href="#orc-chp-flowsheet" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>The second approach without the supply of heat is implemented with an additional Organic Rankinke Cycle replacing the district heating condenser. This second ORC is in principle of the same structure as the first one, as can be seen in Figure <a class="reference internal" href="#orc-full-elec-flowsheet"><span class="std std-numref">Fig. 21</span></a>.</p>
<figure class="align-default" id="orc-full-elec-flowsheet">
<img alt="../_images/geothermal_orc_full_elec.svg" src="../_images/geothermal_orc_full_elec.svg" /><figcaption>
<p><span class="caption-number">Fig. 21 </span><span class="caption-text">Flow sheet of the geothermal plant with sole power generation.</span><a class="headerlink" href="#orc-full-elec-flowsheet" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="exercise-1">
<h2>Exercise 1<a class="headerlink" href="#exercise-1" title="Permalink to this heading">#</a></h2>
<p>Build a power plant working combined heat and power. The heat source is a geothermal field.</p>
<ul class="simple">
<li><p>Erstelle ein Modell und simuliere dieses in TESPy</p></li>
<li><p>Beide Modelle aufbauen</p></li>
<li><p>Erstelle</p></li>
</ul>
</section>
<section id="proposed-solution-1-1">
<h2>Proposed solution 1.1<a class="headerlink" href="#proposed-solution-1-1" title="Permalink to this heading">#</a></h2>
<p><strong>First Step</strong>: Build the model topology of geothermal combined heat and power plan</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># from tespy.networks import Network</span>
<span class="c1"># from tespy.connections import Connection, Bus</span>
<span class="c1"># from tespy.components import (</span>
<span class="c1">#     CycleCloser, Source, Sink, Pump, Turbine, HeatExchanger,HeatExchangerSimple,</span>
<span class="c1">#     Condenser, Drum, DropletSeparator, Merge</span>
<span class="c1">#     )</span>

<span class="c1"># # Network</span>
<span class="c1"># nw = Network(fluids=[&#39;water&#39;, &#39;air&#39;, &#39;Isopentane&#39;])</span>
<span class="c1"># nw.set_attr(T_unit=&#39;C&#39;, p_unit=&#39;bar&#39;, h_unit=&#39;kJ / kg&#39;)</span>

<span class="c1"># flu_vec_orc = {&#39;water&#39;: 0, &#39;air&#39;: 0, &#39;Isopentane&#39;: 1}</span>
<span class="c1"># flu_vec_water = {&#39;water&#39;: 1, &#39;air&#39;: 0, &#39;Isopentane&#39;: 0}</span>
<span class="c1"># flu_vec_air = {&#39;water&#39;: 0, &#39;air&#39;: 1, &#39;Isopentane&#39;: 0}</span>

<span class="c1"># # Components</span>
<span class="c1"># # ORC cycle with condenser coolant cycle</span>
<span class="c1"># orc_cc = CycleCloser(&#39;ORC Cycle Closer&#39;)</span>
<span class="c1"># orc_preheater = HeatExchanger(&#39;ORC Preheater&#39;)</span>
<span class="c1"># orc_drum = Drum(&#39;ORC Drum&#39;)</span>
<span class="c1"># orc_evaporator = HeatExchanger(&#39;ORC Evaporator&#39;)</span>
<span class="c1"># orc_turbine = Turbine(&#39;ORC Turbine&#39;)</span>
<span class="c1"># orc_condenser = Condenser(&#39;ORC Condenser&#39;)</span>
<span class="c1"># cool_source = Source(&#39;Coolant Source&#39;)</span>
<span class="c1"># cool_sink = Sink(&#39;Coolant Sink&#39;)</span>
<span class="c1"># orc_pump = Pump(&#39;ORC Pump&#39;)</span>

<span class="c1"># # Steam cycle with district heating system</span>
<span class="c1"># steam_turbine = Turbine(&#39;Steam Turbine&#39;)</span>
<span class="c1"># dh_condenser = Condenser(&#39;District Heating Condenser&#39;)</span>
<span class="c1"># dh_preheater = HeatExchanger(&#39;District Heating Preheater&#39;)</span>
<span class="c1"># dh_cc = CycleCloser(&#39;District Heating Cycle Closer&#39;)</span>
<span class="c1"># dh_pump = Pump(&#39;District Heating Pump&#39;)</span>
<span class="c1"># dh_heatsink = HeatExchangerSimple(&#39;District Heating Consumer&#39;)</span>
<span class="c1"># steam_pump = Pump(&#39;Steam Pump&#39;)</span>

<span class="c1"># # Geothermal heat source with interfaces</span>
<span class="c1"># geo_source = Source(&#39;Geothermal Source&#39;)</span>
<span class="c1"># seperator = DropletSeparator(&#39;Seperator&#39;)</span>
<span class="c1"># merge = Merge(&#39;Merge&#39;)</span>
<span class="c1"># geo_pump = Pump(&#39;Geothermal Pump&#39;)</span>
<span class="c1"># geo_sink = Sink(&#39;Geothermal Sink&#39;)</span>

<span class="c1"># # Connections</span>
<span class="c1"># # ORC cycle</span>
<span class="c1"># orc_pump2orc_cc = Connection(orc_pump, &#39;out1&#39;, orc_cc, &#39;in1&#39;, label=&#39;0&#39;)</span>
<span class="c1"># orc_cc2orc_preheater = Connection(orc_cc, &#39;out1&#39;, orc_preheater, &#39;in2&#39;, label=&#39;1&#39;)</span>
<span class="c1"># orc_preheat2orc_drum = Connection(orc_preheater, &#39;out2&#39;, orc_drum, &#39;in1&#39;, label=&#39;2&#39;)</span>
<span class="c1"># orc_drum2orc_eva = Connection(orc_drum, &#39;out1&#39;, orc_evaporator, &#39;in2&#39;, label=&#39;3&#39;)</span>
<span class="c1"># orc_eva2orc_drum = Connection(orc_evaporator, &#39;out2&#39;, orc_drum, &#39;in2&#39;, label=&#39;4&#39;)</span>
<span class="c1"># orc_drum2orc_turb = Connection(orc_drum, &#39;out2&#39;, orc_turbine, &#39;in1&#39;, label=&#39;5&#39;)</span>
<span class="c1"># orc_turb2orc_cond = Connection(orc_turbine, &#39;out1&#39;, orc_condenser, &#39;in1&#39;, label=&#39;6&#39;)</span>
<span class="c1"># orc_cond2orc_pump = Connection(orc_condenser, &#39;out1&#39;, orc_pump, &#39;in1&#39;, label=&#39;7&#39;)</span>

<span class="c1"># nw.add_conns(</span>
<span class="c1">#     orc_pump2orc_cc, orc_cc2orc_preheater, orc_preheat2orc_drum, orc_drum2orc_eva, </span>
<span class="c1">#     orc_eva2orc_drum, orc_drum2orc_turb, orc_turb2orc_cond, orc_cond2orc_pump</span>
<span class="c1">#     )</span>

<span class="c1"># # Condenser coolant cycle</span>
<span class="c1"># cool_source2orc_cond = Connection(cool_source, &#39;out1&#39;, orc_condenser, &#39;in2&#39;, label=&#39;41&#39;)</span>
<span class="c1"># orc_cond2cool_sink = Connection(orc_condenser, &#39;out2&#39;, cool_sink, &#39;in1&#39;, label=&#39;42&#39;)</span>

<span class="c1"># nw.add_conns(cool_source2orc_cond, orc_cond2cool_sink)</span>

<span class="c1"># # Steam cycle</span>
<span class="c1"># sep2steam_turb = Connection(seperator, &#39;out1&#39;, steam_turbine, &#39;in1&#39;, label=&#39;11&#39;)</span>
<span class="c1"># steam_turb2dh_cond = Connection(steam_turbine, &#39;out1&#39;, dh_condenser, &#39;in1&#39;, label=&#39;12&#39;)</span>
<span class="c1"># dh_cond2dh_preheat = Connection(dh_condenser, &#39;out1&#39;, dh_preheater, &#39;in1&#39;, label=&#39;13&#39;)</span>
<span class="c1"># dh_preheat2steam_pump = Connection(dh_preheater, &#39;out1&#39;, steam_pump, &#39;in1&#39;, label=&#39;14&#39;)</span>
<span class="c1"># steam_pump2merge = Connection(steam_pump, &#39;out1&#39;, merge, &#39;in1&#39;, label=&#39;15&#39;)</span>

<span class="c1"># nw.add_conns(</span>
<span class="c1">#     sep2steam_turb, steam_turb2dh_cond, dh_cond2dh_preheat, dh_preheat2steam_pump, </span>
<span class="c1">#     steam_pump2merge</span>
<span class="c1">#     )</span>

<span class="c1"># # District heating system</span>
<span class="c1"># dh_heatsink2dh_cc = Connection(dh_heatsink, &#39;out1&#39;, dh_cc, &#39;in1&#39;, label=&#39;30&#39;)</span>
<span class="c1"># dh_cc2dh_pump = Connection(dh_cc, &#39;out1&#39;, dh_pump, &#39;in1&#39;, label=&#39;31&#39;)</span>
<span class="c1"># dh_pump2dh_preheat = Connection(dh_pump, &#39;out1&#39;, dh_preheater, &#39;in2&#39;, label=&#39;32&#39;)</span>
<span class="c1"># dh_preheat2dh_cond = Connection(dh_preheater, &#39;out2&#39;, dh_condenser, &#39;in2&#39;, label=&#39;33&#39;)</span>
<span class="c1"># dh_cond2dh_heatsink = Connection(dh_condenser, &#39;out2&#39;, dh_heatsink, &#39;in1&#39;, label=&#39;34&#39;)</span>

<span class="c1"># nw.add_conns(</span>
<span class="c1">#     dh_heatsink2dh_cc, dh_cc2dh_pump, dh_pump2dh_preheat, dh_preheat2dh_cond,</span>
<span class="c1">#     dh_cond2dh_heatsink</span>
<span class="c1">#     )</span>

<span class="c1"># # Geothermal heat source</span>
<span class="c1"># geo_source2sep = Connection(geo_source,&#39;out1&#39;, seperator, &#39;in1&#39;, label=&#39;21&#39;)</span>
<span class="c1"># sep2orc_eva = Connection(seperator,&#39;out2&#39;, orc_evaporator, &#39;in1&#39;, label=&#39;22&#39;)</span>
<span class="c1"># orc_eva2orc_preheat = Connection(orc_evaporator,&#39;out1&#39;, orc_preheater, &#39;in1&#39;, label=&#39;23&#39;)</span>
<span class="c1"># orc_preheat2merge = Connection(orc_preheater,&#39;out1&#39;, merge, &#39;in2&#39;, label=&#39;24&#39;)</span>
<span class="c1"># merge2geo_pump = Connection(merge,&#39;out1&#39;, geo_pump, &#39;in1&#39;, label=&#39;25&#39;)</span>
<span class="c1"># geo_pump2geo_sink = Connection(geo_pump,&#39;out1&#39;, geo_sink, &#39;in1&#39;, label=&#39;26&#39;)</span>

<span class="c1"># nw.add_conns(</span>
<span class="c1">#     geo_source2sep, sep2orc_eva, orc_eva2orc_preheat, orc_preheat2merge,</span>
<span class="c1">#     merge2geo_pump, geo_pump2geo_sink</span>
<span class="c1">#     )</span>
</pre></div>
</div>
</div>
</details>
</div>
<p><strong>Second Step</strong>:  Set the process parameters and starting values and define the energy busses</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># from CoolProp.CoolProp import PropsSI as PSI</span>

<span class="c1"># # Component Parametrization</span>
<span class="c1"># orc_turbine.set_attr(eta_s=0.9)</span>
<span class="c1"># steam_turbine.set_attr(eta_s=0.9)</span>

<span class="c1"># steam_pump.set_attr(eta_s=0.8)</span>
<span class="c1"># orc_pump.set_attr(eta_s=0.8)</span>
<span class="c1"># geo_pump.set_attr(eta_s=0.8)</span>
<span class="c1"># dh_pump.set_attr(eta_s=0.8)</span>

<span class="c1"># orc_preheater.set_attr(pr1=1, pr2=1) #, ttd_l=10)</span>
<span class="c1"># orc_evaporator.set_attr(pr1=1, pr2=1) #, ttd_l=20)</span>
<span class="c1"># orc_condenser.set_attr(pr1=1, pr2=1) #, ttd_u=5)</span>
<span class="c1"># dh_condenser.set_attr(pr1=1, pr2=1) #, ttd_u=5)</span>
<span class="c1"># dh_preheater.set_attr(pr1=1, pr2=1) #, ttd_l=10)</span>
<span class="c1"># dh_heatsink.set_attr(pr=1)</span>

<span class="c1"># # Connection Parametrization</span>
<span class="c1"># # ORC cycle</span>
<span class="c1"># orc_pump2orc_cc.set_attr(fluid=flu_vec_orc)</span>

<span class="c1"># orc_turb2orc_cond.set_attr(p=0.1)</span>
<span class="c1"># orc_preheat2orc_drum.set_attr(T=50)</span>

<span class="c1"># # Geothermal heat source</span>
<span class="c1"># geo_source2sep.set_attr(m=500, p=10.8, x=0.45, fluid=flu_vec_water)</span>
<span class="c1"># geo_pump2geo_sink.set_attr(T=55, p=30)</span>

<span class="c1"># # District heating system</span>
<span class="c1"># dh_cond2dh_heatsink.set_attr(T=100, p=10, fluid=flu_vec_water)</span>
<span class="c1"># dh_heatsink2dh_cc.set_attr(T=50)</span>

<span class="c1"># # Cooling cycle</span>
<span class="c1"># cool_source2orc_cond.set_attr(T=15, p=1.013, fluid=flu_vec_air)</span>
<span class="c1"># orc_cond2cool_sink.set_attr(T=30)</span>

<span class="c1"># # Starting Values</span>
<span class="c1"># p_orc_evaporator = PSI(&quot;P&quot;, &quot;Q&quot;, 1, &quot;T&quot;, 80 + 273.15, &#39;Isopentane&#39;) * 1e-5</span>
<span class="c1"># orc_eva2orc_drum.set_attr(p=p_orc_evaporator)</span>

<span class="c1"># # p_orc_preheater = PSI(&quot;P&quot;, &quot;Q&quot;, 0, &quot;T&quot;,  + 273.15, &#39;Isopentane&#39;) * 1e-5</span>
<span class="c1"># # .set_attr(p=p_orc_preheater)</span>

<span class="c1"># p_orc_condenser = PSI(&quot;P&quot;, &quot;Q&quot;, 0, &quot;T&quot;, 35 + 273.15, &#39;Isopentane&#39;) * 1e-5</span>
<span class="c1"># orc_turb2orc_cond.set_attr(p=p_orc_condenser)</span>

<span class="c1"># p_dh_condenser = PSI(&quot;P&quot;, &quot;Q&quot;, 0, &quot;T&quot;, 105 + 273.15, &#39;water&#39;) * 1e-5</span>
<span class="c1"># steam_turb2dh_cond.set_attr(p=p_dh_condenser)</span>

<span class="c1"># # p_dh_preheater = PSI(&quot;P&quot;, &quot;Q&quot;, 0, &quot;T&quot;, T_cons_ff + 5 + 273.15, wf) * 1e-5</span>
<span class="c1"># # c4.set_attr(p=p_orc_preheater)</span>

<span class="c1"># # Busses</span>
<span class="c1"># heat_in = Bus(&#39;Heat Input&#39;)</span>
<span class="c1"># heat_in.add_comps(</span>
<span class="c1">#     {&#39;comp&#39;: geo_source, &#39;base&#39;: &#39;bus&#39;},</span>
<span class="c1">#     {&#39;comp&#39;: geo_sink, &#39;base&#39;: &#39;component&#39;}</span>
<span class="c1">#     )</span>

<span class="c1"># power_out = Bus(&#39;Power Output&#39;)</span>
<span class="c1"># power_out.add_comps(</span>
<span class="c1">#     {&#39;comp&#39;: steam_turbine, &#39;char&#39;: 0.985*0.99, &#39;base&#39;: &#39;component&#39;},</span>
<span class="c1">#     {&#39;comp&#39;: orc_turbine, &#39;char&#39;: 0.985*0.99, &#39;base&#39;: &#39;component&#39;},</span>
<span class="c1">#     {&#39;comp&#39;: steam_pump, &#39;char&#39;: 0.975*0.99, &#39;base&#39;: &#39;bus&#39;},</span>
<span class="c1">#     {&#39;comp&#39;: orc_pump, &#39;char&#39;: 0.975*0.99, &#39;base&#39;: &#39;bus&#39;},</span>
<span class="c1">#     {&#39;comp&#39;: geo_pump, &#39;char&#39;: 0.975*0.99, &#39;base&#39;: &#39;bus&#39;},</span>
<span class="c1">#     {&#39;comp&#39;: dh_pump, &#39;char&#39;: 0.975*0.99, &#39;base&#39;: &#39;bus&#39;}</span>
<span class="c1">#     )</span>

<span class="c1"># heat_out_dh = Bus(&#39;Heat Output District Heating&#39;)</span>
<span class="c1"># heat_out_dh.add_comps({&#39;comp&#39;: dh_heatsink, &#39;base&#39;: &#39;component&#39;})</span>

<span class="c1"># heat_out_cool = Bus(&#39;Heat Output Cooling&#39;)</span>
<span class="c1"># heat_out_cool.add_comps(</span>
<span class="c1">#     {&#39;comp&#39;: cool_source, &#39;base&#39;: &#39;bus&#39;},</span>
<span class="c1">#     {&#39;comp&#39;: cool_sink, &#39;base&#39;: &#39;component&#39;}</span>
<span class="c1">#     )</span>

<span class="c1"># nw.add_busses(heat_in, power_out, heat_out_dh, heat_out_cool)</span>

<span class="c1"># heat_out_dh.set_attr(P=-400e6)</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Third step</strong>: Solve model with starting and final values</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># # Solve model</span>

<span class="c1"># nw.set_attr(iterinfo=False)</span>
<span class="c1"># nw.solve(mode=&#39;design&#39;)</span>
<span class="c1"># # eta_th = abs(power_out.P.val)/heat_in.P.val</span>
<span class="c1"># # print(f&#39;eta_th = {eta_th:.3f}&#39;)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="proposed-solution-1">
<h2>Proposed solution 1<a class="headerlink" href="#proposed-solution-1" title="Permalink to this heading">#</a></h2>
<p><strong>First Step</strong>: Build up the ORC cycle as basis for geothermal combined heat and power plant and geothermal power plant</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">tespy.networks</span> <span class="kn">import</span> <span class="n">Network</span>
<span class="kn">from</span> <span class="nn">tespy.connections</span> <span class="kn">import</span> <span class="n">Connection</span><span class="p">,</span> <span class="n">Bus</span>
<span class="kn">from</span> <span class="nn">tespy.components</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">CycleCloser</span><span class="p">,</span> <span class="n">Source</span><span class="p">,</span> <span class="n">Sink</span><span class="p">,</span> <span class="n">Pump</span><span class="p">,</span> <span class="n">Turbine</span><span class="p">,</span> <span class="n">HeatExchanger</span><span class="p">,</span><span class="n">HeatExchangerSimple</span><span class="p">,</span>
    <span class="n">Condenser</span><span class="p">,</span> <span class="n">Drum</span><span class="p">,</span> <span class="n">DropletSeparator</span><span class="p">,</span> <span class="n">Merge</span>
    <span class="p">)</span>

<span class="c1"># Network</span>
<span class="n">nw</span> <span class="o">=</span> <span class="n">Network</span><span class="p">(</span><span class="n">fluids</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;water&#39;</span><span class="p">,</span> <span class="s1">&#39;air&#39;</span><span class="p">,</span> <span class="s1">&#39;Isopentane&#39;</span><span class="p">])</span>
<span class="n">nw</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">T_unit</span><span class="o">=</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="n">p_unit</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">h_unit</span><span class="o">=</span><span class="s1">&#39;kJ / kg&#39;</span><span class="p">)</span>

<span class="n">flu_vec_orc</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;water&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;air&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;Isopentane&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="n">flu_vec_water</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;water&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;air&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;Isopentane&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
<span class="n">flu_vec_air</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;water&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;air&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;Isopentane&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>

<span class="c1"># Components</span>
<span class="c1"># ORC cycle</span>
<span class="n">orc_cc</span> <span class="o">=</span> <span class="n">CycleCloser</span><span class="p">(</span><span class="s1">&#39;ORC Cycle Closer&#39;</span><span class="p">)</span>
<span class="n">orc_preheater</span> <span class="o">=</span> <span class="n">HeatExchanger</span><span class="p">(</span><span class="s1">&#39;ORC Preheater&#39;</span><span class="p">)</span>
<span class="n">orc_drum</span> <span class="o">=</span> <span class="n">Drum</span><span class="p">(</span><span class="s1">&#39;ORC Drum&#39;</span><span class="p">)</span>
<span class="n">orc_evaporator</span> <span class="o">=</span> <span class="n">HeatExchanger</span><span class="p">(</span><span class="s1">&#39;ORC Evaporator&#39;</span><span class="p">)</span>
<span class="n">orc_turbine</span> <span class="o">=</span> <span class="n">Turbine</span><span class="p">(</span><span class="s1">&#39;ORC Turbine&#39;</span><span class="p">)</span>
<span class="n">orc_condenser</span> <span class="o">=</span> <span class="n">Condenser</span><span class="p">(</span><span class="s1">&#39;ORC Condenser&#39;</span><span class="p">)</span>
<span class="n">orc_pump</span> <span class="o">=</span> <span class="n">Pump</span><span class="p">(</span><span class="s1">&#39;ORC Pump&#39;</span><span class="p">)</span>

<span class="c1"># Condenser coolant cycle</span>
<span class="n">cool_source</span> <span class="o">=</span> <span class="n">Source</span><span class="p">(</span><span class="s1">&#39;Coolant Source&#39;</span><span class="p">)</span>
<span class="n">cool_sink</span> <span class="o">=</span> <span class="n">Sink</span><span class="p">(</span><span class="s1">&#39;Coolant Sink&#39;</span><span class="p">)</span>

<span class="c1"># Auxiliary source and sink</span>
<span class="n">liquid_source</span> <span class="o">=</span> <span class="n">Source</span><span class="p">(</span><span class="s1">&#39;Liquid Sep Source&#39;</span><span class="p">)</span>
<span class="n">geo_pump</span> <span class="o">=</span> <span class="n">Pump</span><span class="p">(</span><span class="s1">&#39;Geothermal Pump&#39;</span><span class="p">)</span>
<span class="n">geo_sink1</span> <span class="o">=</span> <span class="n">Sink</span><span class="p">(</span><span class="s1">&#39;Geothermal Sink1&#39;</span><span class="p">)</span>

<span class="c1"># Connections</span>
<span class="c1"># ORC cycle</span>
<span class="n">orc_pump2orc_cc</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">orc_pump</span><span class="p">,</span> <span class="s1">&#39;out1&#39;</span><span class="p">,</span> <span class="n">orc_cc</span><span class="p">,</span> <span class="s1">&#39;in1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;0&#39;</span><span class="p">)</span>
<span class="n">orc_cc2orc_preheater</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">orc_cc</span><span class="p">,</span> <span class="s1">&#39;out1&#39;</span><span class="p">,</span> <span class="n">orc_preheater</span><span class="p">,</span> <span class="s1">&#39;in2&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>
<span class="n">orc_preheat2orc_drum</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">orc_preheater</span><span class="p">,</span> <span class="s1">&#39;out2&#39;</span><span class="p">,</span> <span class="n">orc_drum</span><span class="p">,</span> <span class="s1">&#39;in1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;2&#39;</span><span class="p">)</span>
<span class="n">orc_drum2orc_eva</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">orc_drum</span><span class="p">,</span> <span class="s1">&#39;out1&#39;</span><span class="p">,</span> <span class="n">orc_evaporator</span><span class="p">,</span> <span class="s1">&#39;in2&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;3&#39;</span><span class="p">)</span>
<span class="n">orc_eva2orc_drum</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">orc_evaporator</span><span class="p">,</span> <span class="s1">&#39;out2&#39;</span><span class="p">,</span> <span class="n">orc_drum</span><span class="p">,</span> <span class="s1">&#39;in2&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;4&#39;</span><span class="p">)</span>
<span class="n">orc_drum2orc_turb</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">orc_drum</span><span class="p">,</span> <span class="s1">&#39;out2&#39;</span><span class="p">,</span> <span class="n">orc_turbine</span><span class="p">,</span> <span class="s1">&#39;in1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;5&#39;</span><span class="p">)</span>
<span class="n">orc_turb2orc_cond</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">orc_turbine</span><span class="p">,</span> <span class="s1">&#39;out1&#39;</span><span class="p">,</span> <span class="n">orc_condenser</span><span class="p">,</span> <span class="s1">&#39;in1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;6&#39;</span><span class="p">)</span>
<span class="n">orc_cond2orc_pump</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">orc_condenser</span><span class="p">,</span> <span class="s1">&#39;out1&#39;</span><span class="p">,</span> <span class="n">orc_pump</span><span class="p">,</span> <span class="s1">&#39;in1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;7&#39;</span><span class="p">)</span>

<span class="n">nw</span><span class="o">.</span><span class="n">add_conns</span><span class="p">(</span>
    <span class="n">orc_pump2orc_cc</span><span class="p">,</span> <span class="n">orc_cc2orc_preheater</span><span class="p">,</span> <span class="n">orc_preheat2orc_drum</span><span class="p">,</span> <span class="n">orc_drum2orc_eva</span><span class="p">,</span>
    <span class="n">orc_eva2orc_drum</span><span class="p">,</span> <span class="n">orc_drum2orc_turb</span><span class="p">,</span> <span class="n">orc_turb2orc_cond</span><span class="p">,</span> <span class="n">orc_cond2orc_pump</span>
    <span class="p">)</span>

<span class="c1"># Condenser coolant cycle</span>
<span class="n">cool_source2orc_cond</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">cool_source</span><span class="p">,</span> <span class="s1">&#39;out1&#39;</span><span class="p">,</span> <span class="n">orc_condenser</span><span class="p">,</span> <span class="s1">&#39;in2&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;41&#39;</span><span class="p">)</span>
<span class="n">orc_cond2cool_sink</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">orc_condenser</span><span class="p">,</span> <span class="s1">&#39;out2&#39;</span><span class="p">,</span> <span class="n">cool_sink</span><span class="p">,</span> <span class="s1">&#39;in1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;42&#39;</span><span class="p">)</span>

<span class="n">nw</span><span class="o">.</span><span class="n">add_conns</span><span class="p">(</span><span class="n">cool_source2orc_cond</span><span class="p">,</span> <span class="n">orc_cond2cool_sink</span><span class="p">)</span>

<span class="c1"># Geothermal liquid cyclye</span>
<span class="n">liquid_source2orc_eva</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">liquid_source</span><span class="p">,</span> <span class="s1">&#39;out1&#39;</span><span class="p">,</span> <span class="n">orc_evaporator</span><span class="p">,</span> <span class="s1">&#39;in1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;22&#39;</span><span class="p">)</span>
<span class="n">orc_eva2orc_preheat</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">orc_evaporator</span><span class="p">,</span> <span class="s1">&#39;out1&#39;</span><span class="p">,</span> <span class="n">orc_preheater</span><span class="p">,</span> <span class="s1">&#39;in1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;23&#39;</span><span class="p">)</span>
<span class="n">orc_preheat2geo_pump</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">orc_preheater</span><span class="p">,</span> <span class="s1">&#39;out1&#39;</span><span class="p">,</span> <span class="n">geo_pump</span><span class="p">,</span> <span class="s1">&#39;in1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;24&#39;</span><span class="p">)</span>
<span class="n">geo_pump2geo_sink1</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">geo_pump</span><span class="p">,</span> <span class="s1">&#39;out1&#39;</span><span class="p">,</span> <span class="n">geo_sink1</span><span class="p">,</span> <span class="s1">&#39;in1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;26&#39;</span><span class="p">)</span>

<span class="n">nw</span><span class="o">.</span><span class="n">add_conns</span><span class="p">(</span>
    <span class="n">liquid_source2orc_eva</span><span class="p">,</span> <span class="n">orc_eva2orc_preheat</span><span class="p">,</span> <span class="n">orc_preheat2geo_pump</span><span class="p">,</span> <span class="n">geo_pump2geo_sink1</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
</details>
</div>
<p><strong>Second Step</strong>:  Set the process parameters and starting values. After that solve orc cycle with starting and final values</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">CoolProp.CoolProp</span> <span class="kn">import</span> <span class="n">PropsSI</span> <span class="k">as</span> <span class="n">PSI</span>

<span class="c1"># Parametrization</span>
<span class="c1"># Component parameters</span>
<span class="n">orc_turbine</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">eta_s</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>

<span class="n">orc_pump</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">eta_s</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
<span class="n">geo_pump</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">eta_s</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>

<span class="n">orc_preheater</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">pr1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pr2</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">orc_evaporator</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">pr1</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">orc_condenser</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">pr1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pr2</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Connection parameter</span>
<span class="c1"># ORC cycle</span>
<span class="n">p_orc_condenser</span> <span class="o">=</span> <span class="n">PSI</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="mi">35</span> <span class="o">+</span> <span class="mf">273.15</span><span class="p">,</span> <span class="s1">&#39;Isopentane&#39;</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1e-5</span>
<span class="n">orc_turb2orc_cond</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="n">p_orc_condenser</span><span class="p">,</span> <span class="n">fluid</span><span class="o">=</span><span class="n">flu_vec_orc</span><span class="p">)</span>

<span class="n">p_orc_evaporator</span> <span class="o">=</span> <span class="n">PSI</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="mi">150</span> <span class="o">+</span> <span class="mf">273.15</span><span class="p">,</span> <span class="s1">&#39;Isopentane&#39;</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1e-5</span>
<span class="n">orc_eva2orc_drum</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="n">p_orc_evaporator</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

<span class="n">orc_preheat2orc_drum</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">Td_bp</span><span class="o">=-</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># Geothermal liquid cyclye</span>
<span class="n">liquid_source2orc_eva</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="mi">500</span><span class="o">*</span><span class="mf">0.55</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mf">10.8</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">fluid</span><span class="o">=</span><span class="n">flu_vec_water</span><span class="p">)</span>
<span class="n">geo_pump2geo_sink1</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="mi">55</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>

<span class="c1"># Condenser coolant cycle</span>
<span class="n">cool_source2orc_cond</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mf">1.013</span><span class="p">,</span> <span class="n">fluid</span><span class="o">=</span><span class="n">flu_vec_air</span><span class="p">)</span>
<span class="n">orc_cond2cool_sink</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>

<span class="c1"># Initial solve with starting values</span>
<span class="n">nw</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="s2">&quot;design&quot;</span><span class="p">)</span>

<span class="c1"># Final solve </span>
<span class="n">orc_eva2orc_drum</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">orc_evaporator</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">ttd_l</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="n">orc_turb2orc_cond</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">orc_condenser</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">ttd_u</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="n">nw</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="s2">&quot;design&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING:root:Invalid value for ttd_l: ttd_l = -19.95634661868411 below minimum value (0) at component ORC Evaporator.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING:root:Invalid value for ttd_u: ttd_u = -14.956346618683597 below minimum value (0) at component ORC Preheater.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>iter	| residual | massflow | pressure | enthalpy | fluid
--------+----------+----------+----------+----------+---------
1	| 3.06e+08 | 3.27e+05 | 7.93e+06 | 5.65e+06 | 0.00e+00
2	| 6.19e+09 | 2.79e+06 | 3.09e+06 | 1.29e+08 | 0.00e+00
3	| 3.64e+10 | 1.93e+06 | 1.27e+06 | 2.79e+07 | 0.00e+00
4	| 1.76e+10 | 4.07e+05 | 5.57e+05 | 1.06e+06 | 0.00e+00
5	| 3.13e+09 | 1.47e+05 | 2.13e+05 | 5.90e+06 | 0.00e+00
6	| 1.43e+08 | 3.17e+03 | 5.50e+04 | 1.41e+05 | 0.00e+00
7	| 2.81e+05 | 3.78e+00 | 3.30e-10 | 3.00e+02 | 0.00e+00
8	| 5.85e-01 | 7.11e-05 | 3.30e-10 | 6.03e-04 | 0.00e+00
9	| 9.77e-08 | 1.53e-09 | 3.30e-10 | 9.75e-08 | 0.00e+00
--------+----------+----------+----------+----------+---------
Total iterations: 9, Calculation time: 0.1 s, Iterations per second: 144.54
iter	| residual | massflow | pressure | enthalpy | fluid
--------+----------+----------+----------+----------+---------
1	| 3.00e+01 | 7.49e+02 | 6.23e+06 | 4.63e+05 | 0.00e+00
2	| 1.46e+07 | 3.50e+02 | 1.93e+06 | 5.16e+04 | 0.00e+00
3	| 2.39e+06 | 2.79e+02 | 3.88e+05 | 1.47e+04 | 0.00e+00
4	| 1.42e+05 | 6.76e+01 | 2.06e+04 | 6.34e+03 | 0.00e+00
5	| 6.85e+03 | 1.06e+00 | 9.05e+01 | 8.46e+01 | 0.00e+00
6	| 1.16e+00 | 1.26e-04 | 4.47e-02 | 1.43e-02 | 0.00e+00
7	| 7.22e-07 | 1.07e-05 | 7.89e-03 | 2.05e-03 | 0.00e+00
--------+----------+----------+----------+----------+---------
Total iterations: 7, Calculation time: 0.1 s, Iterations per second: 105.35
</pre></div>
</div>
</div>
</details>
</div>
</section>
<section id="id1">
<h2>Proposed solution 1.1<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h2>
<section id="geothermal-combined-heat-and-power-plant">
<h3>Geothermal combined heat and power plant<a class="headerlink" href="#geothermal-combined-heat-and-power-plant" title="Permalink to this heading">#</a></h3>
<p><strong>First Step</strong>: Build up the steam cycle for the chp process design</p>
<p>Be sure this one runs standalone first!</p>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Steam cycle with district heating system</span>
<span class="c1"># Components</span>
<span class="n">steam_turbine</span> <span class="o">=</span> <span class="n">Turbine</span><span class="p">(</span><span class="s1">&#39;Steam Turbine&#39;</span><span class="p">)</span>
<span class="n">dh_condenser</span> <span class="o">=</span> <span class="n">Condenser</span><span class="p">(</span><span class="s1">&#39;District Heating Condenser&#39;</span><span class="p">)</span>
<span class="n">dh_preheater</span> <span class="o">=</span> <span class="n">HeatExchanger</span><span class="p">(</span><span class="s1">&#39;District Heating Preheater&#39;</span><span class="p">)</span>
<span class="n">dh_cc</span> <span class="o">=</span> <span class="n">CycleCloser</span><span class="p">(</span><span class="s1">&#39;District Heating Cycle Closer&#39;</span><span class="p">)</span>
<span class="n">dh_pump</span> <span class="o">=</span> <span class="n">Pump</span><span class="p">(</span><span class="s1">&#39;District Heating Pump&#39;</span><span class="p">)</span>
<span class="n">dh_heatsink</span> <span class="o">=</span> <span class="n">HeatExchangerSimple</span><span class="p">(</span><span class="s1">&#39;District Heating Consumer&#39;</span><span class="p">)</span>
<span class="n">steam_pump</span> <span class="o">=</span> <span class="n">Pump</span><span class="p">(</span><span class="s1">&#39;Steam Pump&#39;</span><span class="p">)</span>

<span class="c1"># Auxiliary - Source and Sink</span>
<span class="n">steam_source</span> <span class="o">=</span> <span class="n">Source</span><span class="p">(</span><span class="s1">&#39;Steam Sep Source&#39;</span><span class="p">)</span>
<span class="n">geo_sink2</span> <span class="o">=</span> <span class="n">Sink</span><span class="p">(</span><span class="s1">&#39;Geothermal Sink2&#39;</span><span class="p">)</span>

<span class="c1"># Connection</span>
<span class="c1"># Steam system</span>
<span class="n">steam_source2steam_turb</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">steam_source</span><span class="p">,</span> <span class="s1">&#39;out1&#39;</span><span class="p">,</span> <span class="n">steam_turbine</span><span class="p">,</span> <span class="s1">&#39;in1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;11&#39;</span><span class="p">)</span>
<span class="n">steam_turb2dh_cond</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">steam_turbine</span><span class="p">,</span> <span class="s1">&#39;out1&#39;</span><span class="p">,</span> <span class="n">dh_condenser</span><span class="p">,</span> <span class="s1">&#39;in1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;12&#39;</span><span class="p">)</span>
<span class="n">dh_cond2dh_preheat</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">dh_condenser</span><span class="p">,</span> <span class="s1">&#39;out1&#39;</span><span class="p">,</span> <span class="n">dh_preheater</span><span class="p">,</span> <span class="s1">&#39;in1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;13&#39;</span><span class="p">)</span>
<span class="n">dh_preheat2dh_cond</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">dh_preheater</span><span class="p">,</span> <span class="s1">&#39;out1&#39;</span><span class="p">,</span> <span class="n">steam_pump</span><span class="p">,</span> <span class="s1">&#39;in1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;14&#39;</span><span class="p">)</span>
<span class="n">steam_pump2geo_sink2</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">steam_pump</span><span class="p">,</span> <span class="s1">&#39;out1&#39;</span><span class="p">,</span> <span class="n">geo_sink2</span><span class="p">,</span> <span class="s1">&#39;in1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;15&#39;</span><span class="p">)</span>

<span class="n">nw</span><span class="o">.</span><span class="n">add_conns</span><span class="p">(</span>
    <span class="n">steam_source2steam_turb</span><span class="p">,</span> <span class="n">steam_turb2dh_cond</span><span class="p">,</span> <span class="n">dh_cond2dh_preheat</span><span class="p">,</span>
    <span class="n">dh_preheat2dh_cond</span><span class="p">,</span> <span class="n">steam_pump2geo_sink2</span>
    <span class="p">)</span>

<span class="c1"># District heating system</span>
<span class="n">dh_heatsink2dh_cc</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">dh_heatsink</span><span class="p">,</span> <span class="s1">&#39;out1&#39;</span><span class="p">,</span> <span class="n">dh_cc</span><span class="p">,</span> <span class="s1">&#39;in1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;30&#39;</span><span class="p">)</span>
<span class="n">dh_cc2dh_preheat</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">dh_cc</span><span class="p">,</span> <span class="s1">&#39;out1&#39;</span><span class="p">,</span> <span class="n">dh_preheater</span><span class="p">,</span> <span class="s1">&#39;in2&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;31&#39;</span><span class="p">)</span>
<span class="n">dh_preheat2dh_cond</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">dh_preheater</span><span class="p">,</span> <span class="s1">&#39;out2&#39;</span><span class="p">,</span> <span class="n">dh_condenser</span><span class="p">,</span> <span class="s1">&#39;in2&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;33&#39;</span><span class="p">)</span>
<span class="n">dh_cond2dh_heatsink</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">dh_condenser</span><span class="p">,</span> <span class="s1">&#39;out2&#39;</span><span class="p">,</span> <span class="n">dh_heatsink</span><span class="p">,</span> <span class="s1">&#39;in1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;34&#39;</span><span class="p">)</span>

<span class="n">nw</span><span class="o">.</span><span class="n">add_conns</span><span class="p">(</span>
    <span class="n">dh_heatsink2dh_cc</span><span class="p">,</span> <span class="n">dh_cc2dh_preheat</span><span class="p">,</span> <span class="n">dh_preheat2dh_cond</span><span class="p">,</span>
    <span class="n">dh_cond2dh_heatsink</span>
    <span class="p">)</span>

<span class="c1"># Parametrization</span>
<span class="c1"># Components parameter</span>
<span class="n">steam_turbine</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">eta_s</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>
<span class="n">steam_pump</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">eta_s</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>

<span class="n">dh_condenser</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">pr1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pr2</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">dh_preheater</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">pr1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pr2</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Connection parameter</span>
<span class="c1"># Steam system</span>
<span class="n">p_dh_condenser</span> <span class="o">=</span> <span class="n">PSI</span><span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="s2">&quot;Q&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="mi">105</span> <span class="o">+</span> <span class="mf">273.15</span><span class="p">,</span> <span class="s1">&#39;water&#39;</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1e-5</span>
<span class="n">steam_turb2dh_cond</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="n">p_dh_condenser</span><span class="p">)</span>

<span class="n">steam_source2steam_turb</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="mi">500</span><span class="o">*</span><span class="mf">0.45</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mf">10.8</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">fluid</span><span class="o">=</span><span class="n">flu_vec_water</span><span class="p">)</span>
<span class="n">steam_pump2geo_sink2</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="mi">55</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>

<span class="c1"># District heating system</span>
<span class="n">dh_cond2dh_heatsink</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">fluid</span><span class="o">=</span><span class="n">flu_vec_water</span><span class="p">)</span>
<span class="n">dh_heatsink2dh_cc</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>

<span class="n">nw</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="s1">&#39;design&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>iter	| residual | massflow | pressure | enthalpy | fluid
--------+----------+----------+----------+----------+---------
1	| 8.86e+06 | 1.67e+03 | 7.91e+06 | 2.01e+08 | 0.00e+00
2	| 6.96e+09 | 6.35e+03 | 3.39e+06 | 1.88e+07 | 0.00e+00
3	| 2.13e+10 | 6.24e-03 | 1.29e+06 | 6.34e+06 | 0.00e+00
4	| 5.93e+05 | 3.90e-04 | 5.42e+05 | 8.41e+04 | 0.00e+00
5	| 2.47e+05 | 7.54e-05 | 1.95e+05 | 6.22e+04 | 0.00e+00
6	| 5.02e+04 | 1.42e-05 | 3.53e+04 | 3.41e+04 | 0.00e+00
7	| 3.09e+03 | 1.88e-08 | 1.39e-05 | 3.11e+03 | 0.00e+00
8	| 2.94e-07 | 1.88e-09 | 9.91e-07 | 3.32e-07 | 0.00e+00
--------+----------+----------+----------+----------+---------
Total iterations: 8, Calculation time: 0.1 s, Iterations per second: 80.97
</pre></div>
</div>
</div>
</details>
</div>
<p><strong>Second Step</strong>: Connecting ORC Cycle with Steam Cycle</p>
<ol class="arabic simple">
<li><p>Build up the merge part</p></li>
<li><p>Build up the seperator part</p></li>
<li><p>Set busses und solve the geothermal combined heat and power plant</p></li>
</ol>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Components</span>
<span class="c1"># Geothermal heat source with interfaces</span>
<span class="n">geo_source</span> <span class="o">=</span> <span class="n">Source</span><span class="p">(</span><span class="s1">&#39;Geothermal Source&#39;</span><span class="p">)</span>
<span class="n">geo_sink</span> <span class="o">=</span> <span class="n">Sink</span><span class="p">(</span><span class="s1">&#39;Geothermal Sink&#39;</span><span class="p">)</span>
<span class="n">seperator</span> <span class="o">=</span> <span class="n">DropletSeparator</span><span class="p">(</span><span class="s1">&#39;Seperator&#39;</span><span class="p">)</span>
<span class="n">merge</span> <span class="o">=</span> <span class="n">Merge</span><span class="p">(</span><span class="s1">&#39;Merge&#39;</span><span class="p">)</span>

<span class="c1"># Build up the merge part</span>
<span class="c1"># Delete old connections</span>
<span class="n">nw</span><span class="o">.</span><span class="n">del_conns</span><span class="p">(</span><span class="n">geo_pump2geo_sink1</span><span class="p">,</span> <span class="n">steam_pump2geo_sink2</span><span class="p">,</span> <span class="n">orc_preheat2geo_pump</span><span class="p">)</span>

<span class="c1"># Set new connections</span>
<span class="n">steam_pump2merge</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">steam_pump</span><span class="p">,</span> <span class="s1">&#39;out1&#39;</span><span class="p">,</span> <span class="n">merge</span><span class="p">,</span> <span class="s1">&#39;in1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;15&#39;</span><span class="p">)</span>
<span class="n">orc_preheat2merge</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">orc_preheater</span><span class="p">,</span> <span class="s1">&#39;out1&#39;</span><span class="p">,</span> <span class="n">merge</span><span class="p">,</span> <span class="s1">&#39;in2&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;24&#39;</span><span class="p">)</span>
<span class="n">merge2geo_pump</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">merge</span><span class="p">,</span> <span class="s1">&#39;out1&#39;</span><span class="p">,</span> <span class="n">geo_pump</span><span class="p">,</span> <span class="s1">&#39;in1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;25&#39;</span><span class="p">)</span>
<span class="n">geo_pump2geo_sink</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">geo_pump</span><span class="p">,</span> <span class="s1">&#39;out1&#39;</span><span class="p">,</span> <span class="n">geo_sink</span><span class="p">,</span> <span class="s1">&#39;in1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;26&#39;</span><span class="p">)</span>

<span class="n">nw</span><span class="o">.</span><span class="n">add_conns</span><span class="p">(</span><span class="n">steam_pump2merge</span><span class="p">,</span> <span class="n">orc_preheat2merge</span><span class="p">,</span> <span class="n">merge2geo_pump</span><span class="p">,</span> <span class="n">geo_pump2geo_sink</span><span class="p">)</span>

<span class="c1"># Parametrize new connections</span>
<span class="n">orc_preheat2merge</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">T</span><span class="o">=</span><span class="mi">55</span><span class="p">)</span>
<span class="n">geo_pump2geo_sink</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">dh_preheater</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">ttd_l</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># Build up the seperator part</span>
<span class="c1"># Delete old connections</span>
<span class="n">nw</span><span class="o">.</span><span class="n">del_conns</span><span class="p">(</span><span class="n">liquid_source2orc_eva</span><span class="p">,</span> <span class="n">steam_source2steam_turb</span><span class="p">)</span>

<span class="c1"># Set new connections</span>
<span class="n">geo_source2sep</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">geo_source</span><span class="p">,</span><span class="s1">&#39;out1&#39;</span><span class="p">,</span> <span class="n">seperator</span><span class="p">,</span> <span class="s1">&#39;in1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;21&#39;</span><span class="p">)</span>
<span class="n">sep2orc_eva</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">seperator</span><span class="p">,</span><span class="s1">&#39;out1&#39;</span><span class="p">,</span> <span class="n">orc_evaporator</span><span class="p">,</span> <span class="s1">&#39;in1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;22&#39;</span><span class="p">)</span>
<span class="n">sep2steam_turb</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">seperator</span><span class="p">,</span> <span class="s1">&#39;out2&#39;</span><span class="p">,</span> <span class="n">steam_turbine</span><span class="p">,</span> <span class="s1">&#39;in1&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;11&#39;</span><span class="p">)</span>

<span class="n">nw</span><span class="o">.</span><span class="n">add_conns</span><span class="p">(</span><span class="n">geo_source2sep</span><span class="p">,</span> <span class="n">sep2orc_eva</span><span class="p">,</span> <span class="n">sep2steam_turb</span><span class="p">)</span>

<span class="c1"># Parametrize new connections</span>
<span class="n">geo_source2sep</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">m</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mf">10.8</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mf">0.45</span><span class="p">,</span> <span class="n">fluid</span><span class="o">=</span><span class="n">flu_vec_water</span><span class="p">)</span>
<span class="n">sep2orc_eva</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">m0</span><span class="o">=</span><span class="mi">500</span><span class="o">*</span><span class="mf">0.55</span><span class="p">)</span>
<span class="n">sep2steam_turb</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">m0</span><span class="o">=</span><span class="mi">500</span><span class="o">*</span><span class="mf">0.45</span><span class="p">)</span>

<span class="c1"># Busses</span>
<span class="n">heat_in</span> <span class="o">=</span> <span class="n">Bus</span><span class="p">(</span><span class="s1">&#39;Heat Input&#39;</span><span class="p">)</span>
<span class="n">heat_in</span><span class="o">.</span><span class="n">add_comps</span><span class="p">(</span>
    <span class="p">{</span><span class="s1">&#39;comp&#39;</span><span class="p">:</span> <span class="n">geo_source</span><span class="p">,</span> <span class="s1">&#39;base&#39;</span><span class="p">:</span> <span class="s1">&#39;bus&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;comp&#39;</span><span class="p">:</span> <span class="n">geo_sink</span><span class="p">,</span> <span class="s1">&#39;base&#39;</span><span class="p">:</span> <span class="s1">&#39;component&#39;</span><span class="p">}</span>
    <span class="p">)</span>

<span class="n">power_out</span> <span class="o">=</span> <span class="n">Bus</span><span class="p">(</span><span class="s1">&#39;Power Output&#39;</span><span class="p">)</span>
<span class="n">power_out</span><span class="o">.</span><span class="n">add_comps</span><span class="p">(</span>
    <span class="p">{</span><span class="s1">&#39;comp&#39;</span><span class="p">:</span> <span class="n">steam_turbine</span><span class="p">,</span> <span class="s1">&#39;char&#39;</span><span class="p">:</span> <span class="mf">0.985</span><span class="o">*</span><span class="mf">0.99</span><span class="p">,</span> <span class="s1">&#39;base&#39;</span><span class="p">:</span> <span class="s1">&#39;component&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;comp&#39;</span><span class="p">:</span> <span class="n">orc_turbine</span><span class="p">,</span> <span class="s1">&#39;char&#39;</span><span class="p">:</span> <span class="mf">0.985</span><span class="o">*</span><span class="mf">0.99</span><span class="p">,</span> <span class="s1">&#39;base&#39;</span><span class="p">:</span> <span class="s1">&#39;component&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;comp&#39;</span><span class="p">:</span> <span class="n">steam_pump</span><span class="p">,</span> <span class="s1">&#39;char&#39;</span><span class="p">:</span> <span class="mf">0.975</span><span class="o">*</span><span class="mf">0.99</span><span class="p">,</span> <span class="s1">&#39;base&#39;</span><span class="p">:</span> <span class="s1">&#39;bus&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;comp&#39;</span><span class="p">:</span> <span class="n">orc_pump</span><span class="p">,</span> <span class="s1">&#39;char&#39;</span><span class="p">:</span> <span class="mf">0.975</span><span class="o">*</span><span class="mf">0.99</span><span class="p">,</span> <span class="s1">&#39;base&#39;</span><span class="p">:</span> <span class="s1">&#39;bus&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;comp&#39;</span><span class="p">:</span> <span class="n">geo_pump</span><span class="p">,</span> <span class="s1">&#39;char&#39;</span><span class="p">:</span> <span class="mf">0.975</span><span class="o">*</span><span class="mf">0.99</span><span class="p">,</span> <span class="s1">&#39;base&#39;</span><span class="p">:</span> <span class="s1">&#39;bus&#39;</span><span class="p">}</span>
    <span class="p">)</span>

<span class="n">heat_out_dh</span> <span class="o">=</span> <span class="n">Bus</span><span class="p">(</span><span class="s1">&#39;Heat Output District Heating&#39;</span><span class="p">)</span>
<span class="n">heat_out_dh</span><span class="o">.</span><span class="n">add_comps</span><span class="p">({</span><span class="s1">&#39;comp&#39;</span><span class="p">:</span> <span class="n">dh_heatsink</span><span class="p">,</span> <span class="s1">&#39;base&#39;</span><span class="p">:</span> <span class="s1">&#39;component&#39;</span><span class="p">})</span>

<span class="n">heat_out_cool</span> <span class="o">=</span> <span class="n">Bus</span><span class="p">(</span><span class="s1">&#39;Heat Output Cooling&#39;</span><span class="p">)</span>
<span class="n">heat_out_cool</span><span class="o">.</span><span class="n">add_comps</span><span class="p">(</span>
    <span class="p">{</span><span class="s1">&#39;comp&#39;</span><span class="p">:</span> <span class="n">cool_source</span><span class="p">,</span> <span class="s1">&#39;base&#39;</span><span class="p">:</span> <span class="s1">&#39;bus&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;comp&#39;</span><span class="p">:</span> <span class="n">cool_sink</span><span class="p">,</span> <span class="s1">&#39;base&#39;</span><span class="p">:</span> <span class="s1">&#39;component&#39;</span><span class="p">}</span>
    <span class="p">)</span>

<span class="n">nw</span><span class="o">.</span><span class="n">add_busses</span><span class="p">(</span><span class="n">heat_in</span><span class="p">,</span> <span class="n">power_out</span><span class="p">,</span> <span class="n">heat_out_dh</span><span class="p">,</span> <span class="n">heat_out_cool</span><span class="p">)</span>

<span class="n">nw</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="s2">&quot;design&quot;</span><span class="p">)</span>
<span class="n">nw</span><span class="o">.</span><span class="n">print_results</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>iter	| residual | massflow | pressure | enthalpy | fluid
--------+----------+----------+----------+----------+---------
1	| 6.48e+08 | 1.56e+03 | 2.87e+06 | 1.80e+07 | 3.10e-14
2	| 1.25e+08 | 1.62e+03 | 4.78e+05 | 3.35e+05 | 2.07e-16
3	| 1.35e+06 | 3.08e+02 | 7.41e+03 | 8.53e+03 | 1.41e-18
4	| 1.95e+04 | 5.73e-01 | 8.80e+02 | 2.48e+02 | 2.17e-21
5	| 7.64e+00 | 5.13e-04 | 2.01e-01 | 4.93e-02 | 3.80e-30
6	| 1.83e-06 | 1.96e-04 | 1.48e-01 | 3.80e-02 | 2.48e-29
--------+----------+----------+----------+----------+---------
Total iterations: 6, Calculation time: 0.1 s, Iterations per second: 54.3
##### RESULTS (Pump) #####
+-----------------+----------+----------+----------+
|                 |        P |    eta_s |       pr |
|-----------------+----------+----------+----------|
| ORC Pump        | 1.56e+05 | 8.00e-01 | 2.50e+00 |
| Geothermal Pump | 1.22e+06 | 8.00e-01 | 2.78e+00 |
| Steam Pump      | 2.74e+05 | 8.00e-01 | 8.93e+00 |
+-----------------+----------+----------+----------+
##### RESULTS (Condenser) #####
+----------------------------+-----------+----------+----------+----------+----------+----------+----------+----------+----------+
|                            |         Q |       kA |   td_log |    ttd_u |    ttd_l |      pr1 |      pr2 |    zeta1 |    zeta2 |
|----------------------------+-----------+----------+----------+----------+----------+----------+----------+----------+----------|
| ORC Condenser              | -1.39e+08 | 1.29e+07 | 1.08e+01 | 5.00e+00 | 2.00e+01 | 1.00e+00 | 1.00e+00 | 8.65e-16 | 0.00e+00 |
| District Heating Condenser | -4.50e+08 | 2.30e+07 | 1.96e+01 | 5.00e+00 | 5.02e+01 | 1.00e+00 | 1.00e+00 | 0.00e+00 | 0.00e+00 |
+----------------------------+-----------+----------+----------+----------+----------+----------+----------+----------+----------+
##### RESULTS (HeatExchanger) #####
+----------------------------+-----------+----------+----------+----------+----------+----------+----------+-----------+-----------+
|                            |         Q |       kA |   td_log |    ttd_u |    ttd_l |      pr1 |      pr2 |     zeta1 |     zeta2 |
|----------------------------+-----------+----------+----------+----------+----------+----------+----------+-----------+-----------|
| ORC Evaporator             | -1.26e+08 | 2.89e+06 | 4.35e+01 | 1.17e+02 | 1.00e+01 | 1.00e+00 | 1.00e+00 |  0.00e+00 | -5.44e-15 |
| ORC Preheater              | -2.44e+07 | 1.41e+06 | 1.73e+01 | 1.50e+01 | 1.99e+01 | 1.00e+00 | 1.00e+00 | -7.45e-12 |  0.00e+00 |
| District Heating Preheater | -4.72e+07 | 2.41e+06 | 1.96e+01 | 5.02e+01 | 5.00e+00 | 1.00e+00 | 1.00e+00 | -1.03e-12 |  0.00e+00 |
+----------------------------+-----------+----------+----------+----------+----------+----------+----------+-----------+-----------+
##### RESULTS (CycleCloser) #####
+-------------------------------+------------------+-------------------+
|                               |   mass_deviation |   fluid_deviation |
|-------------------------------+------------------+-------------------|
| ORC Cycle Closer              |         5.68e-14 |          0.00e+00 |
| District Heating Cycle Closer |         0.00e+00 |          0.00e+00 |
+-------------------------------+------------------+-------------------+
##### RESULTS (Turbine) #####
+---------------+-----------+----------+----------+
|               |         P |    eta_s |       pr |
|---------------+-----------+----------+----------|
| ORC Turbine   | -1.13e+07 | 9.00e-01 | 4.00e-01 |
| Steam Turbine | -7.60e+07 | 9.00e-01 | 1.12e-01 |
+---------------+-----------+----------+----------+
##### RESULTS (HeatExchangerSimple) #####
+---------------------------+-----------+----------+----------+-----+-----+------+------+--------+
|                           |         Q |       pr |     zeta |   D |   L |   ks |   kA |   Tamb |
|---------------------------+-----------+----------+----------+-----+-----+------+------+--------|
| District Heating Consumer | -4.98e+08 | 1.00e+00 | 0.00e+00 | nan | nan |  nan |  nan |    nan |
+---------------------------+-----------+----------+----------+-----+-----+------+------+--------+
##### RESULTS (Connection) #####
+----+-----------+-----------+-----------+-----------+
|    |         m |         p |         h |         T |
|----+-----------+-----------+-----------+-----------|
|  0 | 3.895e+02 | 3.224e+00 | 1.698e+01 | 3.511e+01 |
|  1 | 3.895e+02 | 3.224e+00 | 1.698e+01 | 3.511e+01 |
|  2 | 3.895e+02 | 3.224e+00 | 7.951e+01 | 6.116e+01 |
|  3 | 5.787e+02 | 3.224e+00 | 9.198e+01 | 6.616e+01 |
|  4 | 5.787e+02 | 3.224e+00 | 3.095e+02 | 6.616e+01 |
|  5 | 3.895e+02 | 3.224e+00 | 4.027e+02 | 6.616e+01 |
|  6 | 3.895e+02 | 1.290e+00 | 3.737e+02 | 4.594e+01 |
|  7 | 3.895e+02 | 1.290e+00 | 1.658e+01 | 3.500e+01 |
| 41 | 9.215e+03 | 1.013e+00 | 4.144e+02 | 1.500e+01 |
| 42 | 9.215e+03 | 1.013e+00 | 4.295e+02 | 3.000e+01 |
| 23 | 2.750e+02 | 1.080e+01 | 3.197e+02 | 7.616e+01 |
| 12 | 2.250e+02 | 1.209e+00 | 2.442e+03 | 1.050e+02 |
| 13 | 2.250e+02 | 1.209e+00 | 4.403e+02 | 1.050e+02 |
| 14 | 2.250e+02 | 1.209e+00 | 2.303e+02 | 5.500e+01 |
| 30 | 2.374e+03 | 1.000e+01 | 2.102e+02 | 5.000e+01 |
| 31 | 2.374e+03 | 1.000e+01 | 2.102e+02 | 5.000e+01 |
| 33 | 2.374e+03 | 1.000e+01 | 2.301e+02 | 5.476e+01 |
| 34 | 2.374e+03 | 1.000e+01 | 4.198e+02 | 1.000e+02 |
| 15 | 2.250e+02 | 1.080e+01 | 2.316e+02 | 5.510e+01 |
| 24 | 2.750e+02 | 1.080e+01 | 2.312e+02 | 5.500e+01 |
| 25 | 5.000e+02 | 1.080e+01 | 2.313e+02 | 5.504e+01 |
| 26 | 5.000e+02 | 3.000e+01 | 2.338e+02 | 5.523e+01 |
| 21 | 5.000e+02 | 1.080e+01 | 1.679e+03 | 1.832e+02 |
| 22 | 2.750e+02 | 1.080e+01 | 7.774e+02 | 1.832e+02 |
| 11 | 2.250e+02 | 1.080e+01 | 2.780e+03 | 1.832e+02 |
+----+-----------+-----------+-----------+-----------+
##### RESULTS (Bus: Heat Input) #####
+-------------------+-------------------+-------------+--------------+
|                   |   component value |   bus value |   efficiency |
|-------------------+-------------------+-------------+--------------|
| Geothermal Source |         0.000e+00 |   0.000e+00 |    1.000e+00 |
| Geothermal Sink   |         0.000e+00 |   0.000e+00 |    1.000e+00 |
| total             |         0.000e+00 |   0.000e+00 |  nan         |
+-------------------+-------------------+-------------+--------------+
##### RESULTS (Bus: Power Output) #####
+-----------------+-------------------+-------------+--------------+
|                 |   component value |   bus value |   efficiency |
|-----------------+-------------------+-------------+--------------|
| Steam Turbine   |        -7.598e+07 |  -7.409e+07 |    9.751e-01 |
| ORC Turbine     |        -1.130e+07 |  -1.102e+07 |    9.751e-01 |
| Steam Pump      |         2.736e+05 |   2.835e+05 |    9.652e-01 |
| ORC Pump        |         1.557e+05 |   1.613e+05 |    9.652e-01 |
| Geothermal Pump |         1.216e+06 |   1.260e+06 |    9.652e-01 |
| total           |        -8.563e+07 |  -8.340e+07 |  nan         |
+-----------------+-------------------+-------------+--------------+
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>##### RESULTS (Bus: Heat Output District Heating) #####
+---------------------------+-------------------+-------------+--------------+
|                           |   component value |   bus value |   efficiency |
|---------------------------+-------------------+-------------+--------------|
| District Heating Consumer |        -4.977e+08 |  -4.977e+08 |    1.000e+00 |
| total                     |        -4.977e+08 |  -4.977e+08 |  nan         |
+---------------------------+-------------------+-------------+--------------+
##### RESULTS (Bus: Heat Output Cooling) #####
+----------------+-------------------+-------------+--------------+
|                |   component value |   bus value |   efficiency |
|----------------+-------------------+-------------+--------------|
| Coolant Source |         0.000e+00 |   0.000e+00 |    1.000e+00 |
| Coolant Sink   |         0.000e+00 |   0.000e+00 |    1.000e+00 |
| total          |         0.000e+00 |   0.000e+00 |  nan         |
+----------------+-------------------+-------------+--------------+
</pre></div>
</div>
</div>
</details>
</div>
</section>
</section>
<section id="proposed-solution-2-1">
<h2>Proposed solution 2.1<a class="headerlink" href="#proposed-solution-2-1" title="Permalink to this heading">#</a></h2>
<section id="geothermal-power-plant-with-complete-condensation-operation">
<h3>Geothermal power plant with complete condensation operation<a class="headerlink" href="#geothermal-power-plant-with-complete-condensation-operation" title="Permalink to this heading">#</a></h3>
<p><strong>First Step</strong>: Build up the low pressure ORC cycle for complete condensation operation</p>
<p>Be sure this one runs standalone first!</p>
<div class="dropdown admonition">
<p class="admonition-title">Explanation</p>
<p>Hier knnte ihre Erklrung stehen</p>
</div>
</section>
</section>
<section id="exercise-2">
<h2>Exercise 2<a class="headerlink" href="#exercise-2" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Energetische</p></li>
<li><p>Treffe eine Auswahl von geeigneten Arbeitsmedien</p></li>
<li><p>Auswahl und Begrndung der Nutzung thermodynamischer Stoffdatenmodelle fr die Simulation.</p></li>
</ul>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># code of solution</span>
</pre></div>
</div>
</div>
</details>
</div>
<div class="dropdown admonition">
<p class="admonition-title">Explanation</p>
<p>Hier knnte ihre Erklrung stehen</p>
</div>
</section>
<section id="exercise-3">
<h2>Exercise 3<a class="headerlink" href="#exercise-3" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Definition und Nutzung geeigneter Gren zur Bewertung der Prozessentwrfe</p></li>
<li><p>anschlieender Vergleich sowie Diskussion.</p></li>
</ul>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># code of solution</span>
</pre></div>
</div>
</div>
</details>
</div>
<div class="dropdown admonition">
<p class="admonition-title">Explanation</p>
<p>Hier knnte ihre Erklrung stehen</p>
</div>
</section>
<section id="lessons-learned">
<h2>Lessons Learned<a class="headerlink" href="#lessons-learned" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Lessons Learned 1</p></li>
<li><p>Lessons Learned 2</p></li>
<li><p>Lessons Learned 3</p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./processes"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Introduction</p>
      </div>
    </a>
    <a class="right-next"
       href="../abbreveations-symbols.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">List of Abbreveations</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-1">Exercise 1</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#proposed-solution-1-1">Proposed solution 1.1</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#proposed-solution-1">Proposed solution 1</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Proposed solution 1.1</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#geothermal-combined-heat-and-power-plant">Geothermal combined heat and power plant</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#proposed-solution-2-1">Proposed solution 2.1</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#geothermal-power-plant-with-complete-condensation-operation">Geothermal power plant with complete condensation operation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-2">Exercise 2</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-3">Exercise 3</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lessons-learned">Lessons Learned</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            <div class="bd-footer-content__inner">
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Francesco Witte, Malte Fritz, Jonas Freimann, Mathias Hofmann, Ilja Tuschy, George Tsatsaronis
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
       Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div></div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>